# Quick Start - Member dapat Pot ID & Setor

## ğŸ¯ Member Experience (Optimal Flow)

### âœ… Skenario Ideal: Member dapat link dari admin

```
Admin share: https://yourdomain.com/pot/0xd01eba3a732dabb97b6e3bc64f59a37810d1283d00d2639472188409d4926a9e

Member buka link â†“
  â”œâ”€ Auto-load pot info
  â”œâ”€ Cek: apakah member?
  â”œâ”€ Cek: bisa deposit?
  â”œâ”€ Tampilkan form setor
  â”œâ”€ Load coin list otomatis
  â”œâ”€ Member pilih coin
  â””â”€ Click "Setor Dana"
    â†“
  Approve di wallet â†“
    â†“
  âœ… Dana masuk pot!
```

---

## ğŸ“± UI Flow: Member Setor via Link

### Screen 1: Halaman Pot (Auto-loaded)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ² Arisan Keluarga          â”‚
â”‚ Arisan komunitas di Sui     â”‚
â”‚                             â”‚
â”‚ Status: ğŸŸ¡ Sedang Deposit  â”‚
â”‚                             â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ Periode: 1 / 3        â”‚   â”‚
â”‚ â”‚ Total Member: 3       â”‚   â”‚
â”‚ â”‚ Setor per Member: 1   â”‚   â”‚
â”‚ â”‚   SUI                 â”‚   â”‚
â”‚ â”‚ Total Dana: 1 SUI     â”‚   â”‚
â”‚ â”‚ Yang setor: 0 / 3     â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                             â”‚
â”‚ [Connect Wallet]            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Screen 2: Pilih Coin

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ’° Setor Dana Anda          â”‚
â”‚                             â”‚
â”‚ Pilih SUI Coin untuk Disetorâ”‚
â”‚                             â”‚
â”‚ â”Œâ”€ â—‹ 0x123...45 â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚   1.5 SUI âœ…            â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                             â”‚
â”‚ â”Œâ”€ â—‹ 0x456...78 â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚   0.5 SUI               â”‚ â”‚
â”‚ â”‚   (Kurang 0.5 SUI)      â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                             â”‚
â”‚ Akan setor: 1 SUI           â”‚
â”‚                             â”‚
â”‚ [âœ… Setor Dana]             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Screen 3: Success

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âœ… Deposit Berhasil!        â”‚
â”‚                             â”‚
â”‚ Terima kasih! Dana Anda     â”‚
â”‚ sudah masuk pot.            â”‚
â”‚                             â”‚
â”‚ Menunggu member lain untuk  â”‚
â”‚ setor sebelum undian        â”‚
â”‚ dilakukan                   â”‚
â”‚                             â”‚
â”‚ Yang sudah setor: 1 / 3     â”‚
â”‚                             â”‚
â”‚ Total Dana: 1 SUI / 3 SUI   â”‚
â”‚ [Progress bar]              â”‚
â”‚                             â”‚
â”‚ Pemenang sebelumnya:        â”‚
â”‚ (Belum ada)                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ” Validasi Member (Backend Logic)

```typescript
// File: src/components/MemberView.tsx

const isMember = pot?.members?.includes(account?.address);
const hasDeposited = pot?.deposits_this_period?.includes(account?.address);
const canDeposit = pot?.status === 0 && isMember && !hasDeposited;

// Status checking
if (!isMember) {
  // Show: "Anda bukan member"
} else if (hasDeposited && pot.status === 0) {
  // Show: "âœ… Anda sudah setor"
} else if (pot.status === 1) {
  // Show: "ğŸ² Menunggu undian"
} else if (pot.status === 2) {
  // Show: "âœ… Arisan selesai"
} else if (canDeposit) {
  // Show deposit form
}
```

---

## ğŸ Coin Selection Auto-Load

```typescript
// File: src/hooks/usePotInfo.ts + useEffect

useEffect(() => {
  if (!account?.address) return;

  // Load coins setelah user connect wallet
  (async () => {
    const coins = await getUserCoins(account.address);
    
    // Filter: hanya yang cukup untuk setor
    const enoughCoins = coins.filter(c => 
      parseInt(c.balance) >= parseInt(pot.depositAmount)
    );

    setCoins(coins); // Tampilkan semua
    
    // Auto-select coin yang cukup
    if (enoughCoins.length > 0) {
      setSelectedCoinId(enoughCoins[0].coinId);
    }
  })();
}, [account?.address]);
```

---

## ğŸš€ Deploy Link

Admin dapat Pot ID setelah deploy:

```
Package ID:
0xd01eba3a732dabb97b6e3bc64f59a37810d1283d00d2639472188409d4926a9e

Pot ID (setelah create):
0xabc123...

Share link:
https://yourdomain.com/pot/0xabc123...

QR Code:
[Generate QR dari link di atas]
```

---

## âš¡ Member Experience Benefits

```
âŒ OLD (Manual)
â”œâ”€ Copy Pot ID dari admin
â”œâ”€ Pergi ke dashboard
â”œâ”€ Paste Pot ID
â”œâ”€ Tunggu load
â”œâ”€ Copy Coin ID dari wallet
â”œâ”€ Paste Coin ID
â”œâ”€ Click Setor
â”œâ”€ Approve
â””â”€ âœ… Setor berhasil

âœ… NEW (Link-based)
â”œâ”€ Click link dari admin
â”œâ”€ âœ… Halaman auto-load
â”œâ”€ âœ… Coin auto-load
â”œâ”€ Pilih coin (1 klik)
â”œâ”€ Click Setor
â”œâ”€ Approve
â””â”€ âœ… Setor berhasil

Benefit: 5 step lebih sedikit + lebih user-friendly!
```

---

## ğŸ“Š Real-Time Updates

Saat member setor:

```
Frontend:
â”œâ”€ Listen untuk event DepositMade
â”œâ”€ Update pot info
â”œâ”€ Update deposit counter
â”œâ”€ Update balance
â””â”€ Show confetti animation âœ¨

If semua sudah setor:
â”œâ”€ Auto-detect (length === members.length)
â”œâ”€ Update status â†’ ğŸŸ¢ Ready to Draw
â”œâ”€ Show notification ke admin
â””â”€ Admin bisa trigger draw
```

---

## ğŸ’¡ Tips untuk Developer

1. **Routing Setup**
   ```typescript
   npm install react-router-dom
   // src/App.tsx
   <Route path="/pot/:potId" element={<MemberView />} />
   ```

2. **Query Persistence**
   ```typescript
   // Refresh page, link parameter tetap
   // Data state auto-load dari blockchain
   ```

3. **Mobile Responsive**
   ```tsx
   // Gunakan Tailwind responsive classes
   className="grid md:grid-cols-2 gap-4"
   ```

4. **Loading States**
   ```typescript
   if (isLoading) return <Spinner />
   if (error) return <ErrorMessage />
   if (!data) return <EmptyState />
   ```

---

## ğŸ¯ Summary

**Member dapat Pot ID dari admin:**

1. âœ… Buka link di browser
2. âœ… System auto-load semua info
3. âœ… System auto-load wallet coins
4. âœ… Member pilih coin & setor
5. âœ… Selesai dalam 2 menit

**No copy-paste needed. Pure UX magic! ğŸš€**
